/* @aztlan/generator-front 0.9.0 */

@use "@aztlan/bem";
@use "@aztlan/mixins/src/media" as media;

.#{bem.$base}.nested-navigation {
  @include media.media($to: 801px) {
    &.focus-canvas {
      .main-row {
        > * {
          left: calc(var(--tree-depth) * -100%) !important;
        }
      }
    }
  }
  grid-template-rows: auto 1fr auto;
  height: 100%;

  .main-row {
    @include media.media($to: 801px) {
      background: lightblue;
      display: flex;
      gap: 0;
      overflow-x: scroll;
      //transition: all 0.5s;
      width: 100%;

      > * {
        flex: 0 0 100%;
        // Write flex code so that each child takes 100% of the viewport ?
        //flex: 0 0 auto;
        position: relative;

        //left: calc(var(--focus-depth) * -100%);
        //transform: translateX(calc(var(--focus-depth) * -100%));
        //transform: translateX(calc(var(--tree-depth) * -100%));
        transition: left 0.3s;
      }

      .group {
        display: flex;
        //overflow-x: visibl;
        flex: var(--tree-depth) 0 calc(var(--tree-depth) * 100%);
        gap: 0;
        left: calc(var(--current-depth) * -100%);
        //transform: translateX(calc((1 / (var(--tree-depth))) * (var(--current-depth)) * -100%));

        > * {
          flex: 0 0 calc(100% / var(--tree-depth));
          //position: relative;
        }
      }

      .canvas {
        flex: 0 0 100%;
        left: calc((var(--tree-depth) - 1) * -100%);
        //transform: translateX(calc((1 / (var(--tree-depth))) * (var(--current-depth)) * -100%));
      }
    }
  }
}


