"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6932],{5785:(e,t,n)=>{var r=(0,n(7272).default)(n(2419)),i=(n(3320),function(){function e(e){var t=this;(0,r.default)(this,"_retainCount",0),(0,r.default)(this,"_retainDisposable",null),(0,r.default)(this,"_releaseTemporaryRetain",null),this._retain=function(n){return t._retainCount++,1===t._retainCount&&(t._retainDisposable=e(n)),{dispose:function(){t._retainCount=Math.max(0,t._retainCount-1),0===t._retainCount&&null!=t._retainDisposable&&(t._retainDisposable.dispose(),t._retainDisposable=null)}}}}var t=e.prototype;return t.temporaryRetain=function(e){var t,n=this;if(e.isServer())return{dispose:function(){}};var r=this._retain(e),i=null,s=function(){clearTimeout(i),i=null,n._releaseTemporaryRetain=null,r.dispose()};return i=setTimeout(s,3e5),null===(t=this._releaseTemporaryRetain)||void 0===t||t.call(this),this._releaseTemporaryRetain=s,{dispose:function(){var e;null===(e=n._releaseTemporaryRetain)||void 0===e||e.call(n)}}},t.permanentRetain=function(e){var t=this._retain(e);return this.releaseTemporaryRetain(),t},t.releaseTemporaryRetain=function(){var e;null===(e=this._releaseTemporaryRetain)||void 0===e||e.call(this),this._releaseTemporaryRetain=null},t.getRetainCount=function(){return this._retainCount},e}());e.exports=i},9541:(e,t,n)=>{var r=n(7272).default,i=r(n(656)),s=r(n(2419)),a=r(n(3330)),o=n(552),u=n(4681).getQueryResourceForEnvironment,l=n(5785),c=n(6669),d=n(6877),h=d.__internal,f=h.fetchQuery,p=h.getPromiseForActiveRequest,v=d.RelayFeatureFlags,_=d.createOperationDescriptor,g=d.getFragmentIdentifier,E=d.getPendingOperationsForFragment,m=d.getSelector,R=d.getVariablesFromFragment,y=d.handlePotentialSnapshotErrors,A=d.isPromise,S=d.recycleNodesInto,D="function"==typeof WeakMap,C=Object.freeze([]);function L(e){return Array.isArray(e)?e.some((function(e){return e.isMissingData})):e.isMissingData}function F(e){return Array.isArray(e)?e.map((function(e){return e.missingLiveResolverFields})).filter(Boolean).flat():e.missingLiveResolverFields}function O(e,t,n){return Array.isArray(t)?{cacheKey:e,snapshot:t,data:t.map((function(e){return e.data})),isMissingData:L(t),storeEpoch:n}:{cacheKey:e,snapshot:t,data:t.data,isMissingData:L(t),storeEpoch:n}}var k=function(){function e(e){(0,s.default)(this,"_cache",new Map),(0,s.default)(this,"_retainCounts",new Map),this._environment=e}var t=e.prototype;return t.get=function(e){var t,n;return null!==(t=null===(n=this._cache.get(e))||void 0===n?void 0:n[0])&&void 0!==t?t:void 0},t.recordQueryResults=function(e,t){var n=this,r=this._cache.get(e);if(r){var i=r[0],s=r[1];t.forEach((function(e){i.push(e)})),s.temporaryRetain(this._environment)}else{var a=new l((function(){return n._retain(e)}));this._cache.set(e,[t,a]),a.temporaryRetain(this._environment)}},t._retain=function(e){var t,n=this,r=(null!==(t=this._retainCounts.get(e))&&void 0!==t?t:0)+1;return this._retainCounts.set(e,r),{dispose:function(){var t,r=(null!==(t=n._retainCounts.get(e))&&void 0!==t?t:0)-1;r>0?n._retainCounts.set(e,r):(n._retainCounts.delete(e),n._cache.delete(e))}}},e}(),N=function(){function e(e){this._environment=e,this._cache=o.create(1e6),v.ENABLE_CLIENT_EDGES&&(this._clientEdgeQueryResultsCache=new k(e))}var t=e.prototype;return t.read=function(e,t,n,r){return this.readWithIdentifier(e,t,g(e,t),n,r)},t.readWithIdentifier=function(e,t,n,r,i){var s,o,l,d,h=this,f=this._environment;if(null==t)return{cacheKey:n,data:null,isMissingData:!1,snapshot:null,storeEpoch:0};var _=f.getStore().getEpoch();if(!0===(null==e||null===(s=e.metadata)||void 0===s?void 0:s.plural)&&(Array.isArray(t)||c(!1),0===t.length))return{cacheKey:n,data:C,isMissingData:!1,snapshot:C,storeEpoch:_};var g=this._cache.get(n);if(null!=g){var E;if("pending"===g.kind&&A(g.promise))throw f.__log({name:"suspense.fragment",data:g.result.data,fragment:e,isRelayHooks:!0,isMissingData:g.result.isMissingData,isPromiseCached:!0,pendingOperations:g.pendingOperations}),g.promise;if("done"===g.kind&&g.result.snapshot&&(null===(E=F(g.result.snapshot))||void 0===E||!E.length))return this._throwOrLogErrorsInSnapshot(g.result.snapshot),g.result.isMissingData&&f.__log({name:"fragmentresource.missing_data",data:g.result.data,fragment:e,isRelayHooks:!0,cached:!0}),g.result}var R=m(e,t);null==R&&c(!1);var y=null,S=null;if(v.ENABLE_RELAY_OPERATION_TRACKER_SUSPENSE&&null!=g&&"missing"===g.kind?(y=g.result,S=g.snapshot):y=O(n,S="PluralReaderSelector"===R.kind?R.selectors.map((function(e){return f.lookup(e)})):f.lookup(R),_),!y.isMissingData)return this._throwOrLogErrorsInSnapshot(S),this._cache.set(n,{kind:"done",result:y}),y;var D=null;if(v.ENABLE_CLIENT_EDGES&&!0===(null===(o=e.metadata)||void 0===o?void 0:o.hasClientEdges)&&function(e){var t,n;return Array.isArray(e)?e.some((function(e){var t,n;return(null!==(t=null===(n=e.missingClientEdges)||void 0===n?void 0:n.length)&&void 0!==t?t:0)>0})):(null!==(t=null===(n=e.missingClientEdges)||void 0===n?void 0:n.length)&&void 0!==t?t:0)>0}(S)){D=[];var L=u(this._environment),k=[];!function(e,t){Array.isArray(e)?e.forEach(t):t(e)}(S,(function(n){var r;null===(r=n.missingClientEdges)||void 0===r||r.forEach((function(n){var r,i=n.request,s=n.clientEdgeDestinationID,a=h._performClientEdgeQuery(L,e,t,i,s),o=a.queryResult,u=a.requestDescriptor;k.push(o),null===(r=D)||void 0===r||r.push(u)}))})),null==this._clientEdgeQueryResultsCache&&c(!1),this._clientEdgeQueryResultsCache.recordQueryResults(n,k)}var N=[];v.ENABLE_CLIENT_EDGES&&D&&(N=D.map((function(e){return p(h._environment,e)})).filter(Boolean));var M="PluralReaderSelector"===R.kind?R.selectors[0].owner:R.owner,I=this._getAndSavePromiseForFragmentRequestInFlight(n,e,M,y),P=null==I?void 0:I.promise,T=null!==(l=null===(d=F(S))||void 0===d?void 0:d.map((function(e){var t=e.liveStateID;return f.getStore().getLiveResolverPromise(t)})))&&void 0!==l?l:[];if(N.length||T.length||A(P)){var b,w;f.__log({name:"suspense.fragment",data:y.data,fragment:e,isRelayHooks:!0,isPromiseCached:!1,isMissingData:y.isMissingData,pendingOperations:[].concat((0,a.default)(null!==(b=null==I?void 0:I.pendingOperations)&&void 0!==b?b:[]),(0,a.default)(null!==(w=D)&&void 0!==w?w:[]))});var U=[];if(N.length>0&&(U=U.concat(N)),T.length>0&&(U=U.concat(T)),U.length>0)throw P&&U.push(P),Promise.all(U);if(P)throw P}return v.ENABLE_RELAY_OPERATION_TRACKER_SUSPENSE&&y.isMissingData&&this._cache.set(n,{kind:"done",result:y}),this._throwOrLogErrorsInSnapshot(S),f.__log({name:"fragmentresource.missing_data",data:y.data,fragment:e,isRelayHooks:!0,cached:!1}),O(n,S,_)},t._performClientEdgeQuery=function(e,t,n,r,s){var a=R(t,n),o=(0,i.default)((0,i.default)({},a),{},{id:s}),u=_(r,o,{}),l=f(this._environment,u),c=e.prepare(u,l);return{requestDescriptor:u.request,queryResult:c}},t._throwOrLogErrorsInSnapshot=function(e){var t=this;Array.isArray(e)?e.forEach((function(e){y(t._environment,e.missingRequiredFields,e.relayResolverErrors,e.errorResponseFields)})):y(this._environment,e.missingRequiredFields,e.relayResolverErrors,e.errorResponseFields)},t.readSpec=function(e,t,n){var r={};for(var i in e)r[i]=this.read(e[i],t[i],n,i);return r},t.subscribe=function(e,t){var n=this,r=this._environment,i=e.cacheKey,s=e.snapshot;if(!s)return{dispose:function(){}};var a=this.checkMissedUpdates(e),o=a[0],l=a[1];o&&t();var d=[];if(Array.isArray(s)?(Array.isArray(l)||c(!1),l.forEach((function(e,s){d.push(r.subscribe(e,(function(e){var a=r.getStore().getEpoch();n._updatePluralSnapshot(i,l,e,s,a),t()})))}))):((null==l||Array.isArray(l))&&c(!1),d.push(r.subscribe(l,(function(e){var s=r.getStore().getEpoch(),a=O(i,e,s);v.ENABLE_RELAY_OPERATION_TRACKER_SUSPENSE&&a.isMissingData?n._cache.set(i,{kind:"missing",result:a,snapshot:e}):n._cache.set(i,{kind:"done",result:O(i,e,s)}),t()})))),v.ENABLE_CLIENT_EDGES){var h,f,p=null!==(h=null===(f=this._clientEdgeQueryResultsCache)||void 0===f?void 0:f.get(i))&&void 0!==h?h:void 0;if(null!=p&&p.length){var _=u(this._environment);p.forEach((function(e){d.push(_.retain(e))}))}}return{dispose:function(){d.forEach((function(e){return e.dispose()})),n._cache.delete(i)}}},t.subscribeSpec=function(e,t){var n=this,r=Object.keys(e).map((function(r){return n.subscribe(e[r],t)}));return{dispose:function(){r.forEach((function(e){e.dispose()}))}}},t.checkMissedUpdates=function(e){var t,n=this._environment,r=e.snapshot;if(!r)return[!1,null];if(t=n.getStore().getEpoch(),e.storeEpoch===t)return[!1,e.snapshot];var s=e.cacheKey;if(Array.isArray(r)){var a=!1,o=[];if(r.forEach((function(e,t){var r=n.lookup(e.selector),s=e.data,u=r.data,l=S(s,u);l!==s&&(r=(0,i.default)((0,i.default)({},r),{},{data:l}),a=!0),o[t]=r})),a){var u=O(s,o,t);v.ENABLE_RELAY_OPERATION_TRACKER_SUSPENSE&&u.isMissingData?this._cache.set(s,{kind:"missing",result:u,snapshot:o}):this._cache.set(s,{kind:"done",result:u})}return[a,o]}var l=n.lookup(r.selector),c=r.data,d=l.data,h=S(c,d),f={data:h,isMissingData:l.isMissingData,missingClientEdges:l.missingClientEdges,missingLiveResolverFields:l.missingLiveResolverFields,seenRecords:l.seenRecords,selector:l.selector,missingRequiredFields:l.missingRequiredFields,relayResolverErrors:l.relayResolverErrors,errorResponseFields:l.errorResponseFields};if(h!==c){var p=O(s,f,t);v.ENABLE_RELAY_OPERATION_TRACKER_SUSPENSE&&p.isMissingData?this._cache.set(s,{kind:"missing",result:p,snapshot:f}):this._cache.set(s,{kind:"done",result:p})}return[h!==c,f]},t.checkMissedUpdatesSpec=function(e){var t=this;return Object.keys(e).some((function(n){return t.checkMissedUpdates(e[n])[0]}))},t._getAndSavePromiseForFragmentRequestInFlight=function(e,t,n,r){var i=this,s=E(this._environment,t,n);if(null==s)return null;var a=s.promise,o=s.pendingOperations,u=a.then((function(){i._cache.delete(e)})).catch((function(t){i._cache.delete(e)}));return u.displayName=a.displayName,this._cache.set(e,{kind:"pending",pendingOperations:o,promise:u,result:r}),{promise:u,pendingOperations:o}},t._updatePluralSnapshot=function(e,t,n,r,i){var s,o=this._cache.get(e);if(A(o))M(n.selector.node.name);else{var u=null==o||null===(s=o.result)||void 0===s?void 0:s.snapshot;if(!u||Array.isArray(u)){var l=u?(0,a.default)(u):(0,a.default)(t);l[r]=n;var c=O(e,l,i);v.ENABLE_RELAY_OPERATION_TRACKER_SUSPENSE&&c.isMissingData?this._cache.set(e,{kind:"missing",result:c,snapshot:l}):this._cache.set(e,{kind:"done",result:c})}else M(n.selector.node.name)}},e}();function M(e){c(!1)}function I(e){return new N(e)}var P=D?new WeakMap:new Map;e.exports={createFragmentResource:I,getFragmentResourceForEnvironment:function(e){var t=P.get(e);if(t)return t;var n=I(e);return P.set(e,n),n}}},8406:(e,t,n)=>{var r=n(7516),i=n(3259),s=n(9541).getFragmentResourceForEnvironment,a=n(2854),o=a.useEffect,u=a.useState,l=n(6877),c=l.RelayFeatureFlags,d=l.getFragmentIdentifier;n(3320),e.exports=function(e,t,n){var a=r(),l=s(a),h=i(!1),f=u(0)[1],p=d(e,t),v=l.readWithIdentifier(e,t,p,n),_=i(!0);function g(){!1!==h.current&&!1!==_.current&&f((function(e){return e+1}))}return o((function(){h.current=!0;var e=l.subscribe(v,g);return function(){h.current=!1,e.dispose()}}),[a,p]),c.LOG_MISSING_RECORDS_IN_PROD&&null!=t&&(void 0===v.data||Array.isArray(v.data)&&v.data.length>0&&v.data.every((function(e){return void 0===e}))),{data:v.data,disableStoreUpdates:function(){_.current=!1},enableStoreUpdates:function(){_.current=!0,l.checkMissedUpdates(v)[0]&&g()}}}}}]);