"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8517],{5282:(e,t,r)=>{r.d(t,{vq:()=>u,Ib:()=>d,Ym:()=>s,DP:()=>n,o1:()=>h});var o=r(2854);function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{storageKey:r="theme",defaultMap:n={dark:"dark-theme",light:"light-theme"}}=t,a="object"==typeof window,i=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?n.dark:n.light,[s,c]=(0,o.useState)(!!a&&window.localStorage.getItem(r)&&!0),l=(0,o.useCallback)((()=>{if(a){var t=window.localStorage.getItem(r);return t?(c(!1),t):(c(!0),i()||e)}return e||n.light}),[e,a,r]),[u,h]=(0,o.useState)((()=>l()));(0,o.useEffect)((()=>{a&&u&&window.localStorage.setItem(r,u)}),[u,r]),(0,o.useEffect)((()=>{if(a){var e=()=>{var e=i();window.localStorage.getItem(r)||(c(!0),h(e))},t=window.matchMedia("(prefers-color-scheme: dark)");return t.addListener(e),()=>t.removeListener(e)}}),[r]);var d=(0,o.useCallback)((()=>{h(void 0),a&&(window.localStorage.removeItem(r),c(!0))}),[e,a,r]),f=(0,o.useCallback)((e=>u===e),[u]);return{theme:u,setTheme:h,isTheme:f,isSystemTheme:s,resetTheme:d}}function a(e,t,r,o,n,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,n)}var i="object"==typeof window;function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{storageKey:n="locale"}=r,s=(0,o.useCallback)((()=>i&&navigator.language?navigator.language.slice(0,2):e),[e]),c=(0,o.useCallback)((()=>i?window.localStorage.getItem(n)||s():e),[s,e,n]),[l,u]=(0,o.useState)(c),[h,d]=(0,o.useState)({}),f=(0,o.useCallback)((()=>{var e=s();u(e),i&&window.localStorage.removeItem(n)}),[s,n]),p=(0,o.useCallback)((e=>l===e),[l]);return(0,o.useEffect)((()=>{i&&window.localStorage.setItem(n,l)}),[l,n]),(0,o.useEffect)((()=>{function e(){var r;return r=function*(){var e=yield t(l);d(e.default)},e=function(){var e=this,t=arguments;return new Promise((function(o,n){var i=r.apply(e,t);function s(e){a(i,o,n,s,c,"next",e)}function c(e){a(i,o,n,s,c,"throw",e)}s(void 0)}))},e.apply(this,arguments)}i&&function(){e.apply(this,arguments)}()}),[l]),{locale:l,setLocale:u,isLocale:p,messages:h,resetLocale:f}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){var o,n,a,i;o=e,n=t,a=r[t],(n="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n))?i:String(i))in o?Object.defineProperty(o,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[n]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=(e,t)=>"SET_SECTION_INDEX"===t.type?l(l({},e),{},{currentIndex:t.payload,currentSection:e.sections[t.payload],isFirst:0===t.payload,isLast:t.payload===e.sections.length-1,progressPercentage:e.sections[t.payload].overrideProgressPercentage?e.sections[t.payload].overrideProgressPercentage:100/e.sections.length*(t.payload+1)}):e;var h=e=>function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"debug";return(0,o.useMemo)((()=>{if("undefined"==typeof window)return!1;var t=1===parseInt(window.localStorage.getItem(e)||"0",10),r=new URLSearchParams(window.location.search),o=1===parseInt(r.get(e)||"0",10);return t||o}),[])}()?o.createElement(e,t):null};const d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return(0,o.useMemo)((()=>{if("undefined"==typeof process){var{protocol:t,hostname:r,port:o}=window.location;return"".concat(t,"//").concat(r).concat(o?":".concat(o):"")}return e||"http://example.com"}),[])}},7995:(e,t,r)=>{r.d(t,{sK:()=>i,T9:()=>l});const o="TRUE"==="MISSING_ENV_VAR".VERBOSE?function(){return console.log(...arguments)}:()=>null;var n="undefined"==typeof process?localStorage:{},a={loginState:"isLoggedIn",accessToken:"accessTokenExpiresAt",refreshToken:"refreshTokenExpiresAt"};const i=class{static timeNow(){return Math.floor(Date.now()/1e3)}static saveTokenExpiration(e,t){o("[TokenStateManager] Saving ".concat(e,": ").concat(t)),n.setItem(a.loginState,"1"),n.setItem(e,t.toString())}static isTokenValid(e){var t;return parseInt(null!==(t=n.getItem(e))&&void 0!==t?t:"0",10)>this.timeNow()}static logout(){Object.values(a).forEach((e=>n.removeItem(e)))}static hasValidAccessToken(){return this.isTokenValid(a.accessToken)}static hasValidRefreshToken(){return this.isTokenValid(a.refreshToken)}static shouldRefetchToken(){return this.hasValidRefreshToken()&&!this.hasValidAccessToken()}static saveAccessTokenExpiration(e){this.saveTokenExpiration(a.accessToken,e)}static saveRefreshTokenExpiration(e){this.saveTokenExpiration(a.refreshToken,e)}static initialize(){var e=new URL(window.location.href),t=e.searchParams.get("jwt_expires"),r=e.searchParams.get("refresh_expires"),o=t?Math.ceil(parseFloat(t)):null,n=r?Math.ceil(parseFloat(r)):null;if(o){this.saveAccessTokenExpiration(o),e.searchParams.delete("jwt_expires"),n&&(this.saveRefreshTokenExpiration(n),e.searchParams.delete("refresh_expires"));var a=e.toString();window.history.replaceState({},document.title,a)}}};function s(e,t,r,o,n,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,n)}var c={mutation:'mutation { refreshToken(input:{clientMutationId:"das"}){payload refreshExpiresIn}}',extractor:e=>({accessTokenExpiration:e.data.refreshToken.payload.exp,refreshTokenExpiration:e.data.refreshToken.refreshExpiresIn})};const l=function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=null,l=null!==(e=n.mutation)&&void 0!==e?e:c.mutation,u=null!==(t=n.extractor)&&void 0!==t?t:c.extractor,h=null!==(r=n.url)&&void 0!==r?r:"https://api-development.idioma.io/graphql";return e=>function(){var t,r=(t=function*(t){return i.shouldRefetchToken()?(a||(a=((e,t,r)=>(o("[fetchAccessToken]","Refreshing token"),fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e}),credentials:"include"}).then((e=>e.json())).then((e=>{if(e.errors)throw o("[fetchAccessToken]","Failed to refresh tokens",e.errors),i.logout(),new Error("Failed to refresh tokens");var{accessTokenExpiration:t,refreshTokenExpiration:n}=r(e);return i.saveAccessTokenExpiration(t),i.saveRefreshTokenExpiration(n),e})).catch((e=>{throw o("[fetchAccessToken]","Error during token refresh:",e),e}))))(l,h,u).then((e=>(a=null,e))).catch((e=>{throw a=null,e}))),yield a,e(t)):e(t)},function(){var e=this,r=arguments;return new Promise((function(o,n){var a=t.apply(e,r);function i(e){s(a,o,n,i,c,"next",e)}function c(e){s(a,o,n,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}()}},5142:(e,t,r)=>{r.d(t,{A:()=>l});var o=r(6877),n=r(4411),a=r(7995),i=window.__RELAY_PAYLOADS__,s=new o.RecordSource(i),c=new o.Store(s);const l=e=>new o.Environment({network:new n.RM([(0,n.gI)({url:e,credentials:"include"}),(0,n.qs)(),(0,n.J8)(),(0,n.YC)(),(0,a.T9)()]),store:c})},8164:(e,t,r)=>{r.d(t,{sK:()=>o.sK});var o=r(7995);r(2854),r(7206),r(6834)}}]);