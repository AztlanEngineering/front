"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[101],{4964:(e,i,r)=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var s=r(6824).default,a=s(r(1887)),n=s(r(6579)),l=s(r(2839)),o=r(1573),d=o.ACTOR_CHANGE,u=o.ALIASED_FRAGMENT_SPREAD,_=o.ALIASED_INLINE_FRAGMENT_SPREAD,h=o.CLIENT_EDGE_TO_CLIENT_OBJECT,c=o.CLIENT_EDGE_TO_SERVER_OBJECT,v=o.CLIENT_EXTENSION,g=o.CONDITION,f=o.DEFER,E=o.FRAGMENT_SPREAD,m=o.INLINE_DATA_FRAGMENT_SPREAD,R=o.INLINE_FRAGMENT,p=o.LINKED_FIELD,D=o.MODULE_IMPORT,F=o.RELAY_LIVE_RESOLVER,L=o.RELAY_RESOLVER,A=o.REQUIRED_FIELD,I=o.SCALAR_FIELD,y=o.STREAM,N=r(2761),T=r(3682).isSuspenseSentinel,S=r(6589),b=r(2306),C=r(8677),M=C.CLIENT_EDGE_TRAVERSAL_PATH,k=C.FRAGMENT_OWNER_KEY,O=C.FRAGMENT_PROP_NAME_KEY,P=C.FRAGMENTS_KEY,w=C.ID_KEY,G=C.MODULE_COMPONENT_KEY,q=C.ROOT_ID,V=C.getArgumentValues,B=C.getModuleComponentKey,U=C.getStorageKey,K=r(3922).NoopResolverCache,W=r(9174),Y=W.RESOLVER_FRAGMENT_MISSING_DATA_SENTINEL,j=W.withResolverContext,H=r(2980).generateTypeID,x=r(9990);function z(e,i,r){return new J(e,i,null!=r?r:new K).read()}var J=function(){function e(e,i,r){var t;this._clientEdgeTraversalPath=N.ENABLE_CLIENT_EDGES&&null!==(t=i.clientEdgeTraversalPath)&&void 0!==t&&t.length?(0,l.default)(i.clientEdgeTraversalPath):[],this._missingClientEdges=[],this._missingLiveResolverFields=[],this._isMissingData=!1,this._isWithinUnmatchedTypeRefinement=!1,this._missingRequiredFields=null,this._errorResponseFields=null,this._owner=i.owner,this._recordSource=e,this._seenRecords=new Set,this._selector=i,this._variables=i.variables,this._resolverCache=r,this._resolverErrors=[],this._fragmentName=i.node.name,this._updatedDataIDs=new Set}var i=e.prototype;return i.read=function(){var e=this._selector,i=e.node,r=e.dataID,t=e.isWithinUnmatchedTypeRefinement,s=i.abstractKey,a=this._recordSource.get(r),n=!t;if(n&&null==s&&null!=a&&b.getType(a)!==i.type&&r!==q&&(n=!1),n&&null!=s&&null!=a){var l=this._implementsInterface(a,s);!1===l?n=!1:null==l&&(this._isMissingData=!0)}this._isWithinUnmatchedTypeRefinement=!n;var o=this._traverse(i,r,null);return this._updatedDataIDs.size>0&&(this._resolverCache.notifyUpdatedSubscribers(this._updatedDataIDs),this._updatedDataIDs.clear()),{data:o,isMissingData:this._isMissingData&&n,missingClientEdges:N.ENABLE_CLIENT_EDGES&&this._missingClientEdges.length?this._missingClientEdges:null,missingLiveResolverFields:this._missingLiveResolverFields,seenRecords:this._seenRecords,selector:this._selector,missingRequiredFields:this._missingRequiredFields,relayResolverErrors:this._resolverErrors,errorResponseFields:this._errorResponseFields}},i._maybeAddErrorResponseFields=function(e,i){if(N.ENABLE_FIELD_ERROR_HANDLING){var r=b.getErrors(e,i);if(null!=r){var t=this._fragmentName;null==this._errorResponseFields&&(this._errorResponseFields=[]);var s,a=(0,n.default)(r);try{for(a.s();!(s=a.n()).done;){var l,o=s.value;this._errorResponseFields.push({owner:t,path:(null!==(l=o.path)&&void 0!==l?l:[]).join("."),error:o})}}catch(e){a.e(e)}finally{a.f()}}}},i._markDataAsMissing=function(){if(this._isMissingData=!0,N.ENABLE_CLIENT_EDGES&&this._clientEdgeTraversalPath.length){var e=this._clientEdgeTraversalPath[this._clientEdgeTraversalPath.length-1];null!==e&&this._missingClientEdges.push({request:e.readerClientEdge.operation,clientEdgeDestinationID:e.clientEdgeDestinationID})}},i._traverse=function(e,i,r){var t=this._recordSource.get(i);if(this._seenRecords.add(i),null==t)return void 0===t&&this._markDataAsMissing(),t;var s=r||{};return this._traverseSelections(e.selections,t,s)?s:null},i._getVariableValue=function(e){return this._variables.hasOwnProperty(e)||x(!1),this._variables[e]},i._maybeReportUnexpectedNull=function(e,i){var r;if("THROW"!==(null===(r=this._missingRequiredFields)||void 0===r?void 0:r.action)){var t=this._fragmentName;switch(i){case"THROW":return void(this._missingRequiredFields={action:i,field:{path:e,owner:t}});case"LOG":return void(null==this._missingRequiredFields?this._missingRequiredFields={action:i,fields:[{path:e,owner:t}]}:this._missingRequiredFields={action:i,fields:[].concat((0,l.default)(this._missingRequiredFields.fields),[{path:e,owner:t}])})}}},i._traverseSelections=function(e,i,r){for(var t=0;t<e.length;t++){var s=e[t];switch(s.kind){case A:if(null==this._readRequiredField(s,i,r)){var a=s.action;return"NONE"!==a&&this._maybeReportUnexpectedNull(s.path,a),!1}break;case I:this._readScalar(s,i,r);break;case p:s.plural?this._readPluralLink(s,i,r):this._readLink(s,i,r);break;case g:if(Boolean(this._getVariableValue(s.condition))===s.passingValue&&!this._traverseSelections(s.selections,i,r))return!1;break;case R:if(!1===this._readInlineFragment(s,i,r))return!1;break;case F:case L:if(!N.ENABLE_RELAY_RESOLVERS)throw new Error("Relay Resolver fields are not yet supported.");this._readResolverField(s,i,r);break;case E:this._createFragmentPointer(s,i,r);break;case u:r[s.name]=this._createAliasedFragmentSpread(s,i);break;case _:var n=this._readInlineFragment(s.fragment,i,{});!1===n&&(n=null),r[s.name]=n;break;case D:this._readModuleImport(s,i,r);break;case m:this._createInlineDataOrResolverFragmentPointer(s,i,r);break;case f:case v:var l=this._isMissingData,o=this._missingClientEdges.length;N.ENABLE_CLIENT_EDGES&&this._clientEdgeTraversalPath.push(null);var T=this._traverseSelections(s.selections,i,r);if(this._isMissingData=l||this._missingClientEdges.length>o||this._missingLiveResolverFields.length>0,N.ENABLE_CLIENT_EDGES&&this._clientEdgeTraversalPath.pop(),!T)return!1;break;case y:if(!this._traverseSelections(s.selections,i,r))return!1;break;case d:this._readActorChange(s,i,r);break;case h:case c:if(!N.ENABLE_CLIENT_EDGES)throw new Error("Client edges are not yet supported.");this._readClientEdge(s,i,r);break;default:x(!1)}}return!0},i._readRequiredField=function(e,i,r){switch(e.field.kind){case I:return this._readScalar(e.field,i,r);case p:return e.field.plural?this._readPluralLink(e.field,i,r):this._readLink(e.field,i,r);case L:case F:if(!N.ENABLE_RELAY_RESOLVERS)throw new Error("Relay Resolver fields are not yet supported.");return this._readResolverField(e.field,i,r);case h:case c:if(!N.ENABLE_RELAY_RESOLVERS)throw new Error("Relay Resolver fields are not yet supported.");return this._readClientEdge(e.field,i,r);default:e.field.kind,x(!1)}},i._readResolverField=function(e,i,r){var t,s=b.getDataID(i),a=this._readResolverFieldImpl(e,s);return r[null!==(t=e.alias)&&void 0!==t?t:e.name]=a,a},i._readResolverFieldImpl=function(e,i){var r,t=this,s=e.fragment,n=function(e){return null!=r?{data:r.data,isMissingData:r.isMissingData}:{data:(r=z(t._recordSource,e,t._resolverCache)).data,isMissingData:r.isMissingData}},l=this._resolverCache.readFromCacheOrEvaluate(i,e,this._variables,(function(){if(null!=s){var l={__id:i,__fragmentOwner:t._owner,__fragments:(0,a.default)({},s.name,s.args?V(s.args,t._variables):{})};return j({getDataForResolverFragment:n},(function(){var i=Q(e,t._variables,l),s=i[0],a=i[1];return{resolverResult:s,snapshot:r,error:a}}))}var o=Q(e,t._variables,null);return{resolverResult:o[0],snapshot:void 0,error:o[1]}}),n),o=l[0],d=l[1],u=l[2],_=l[3],h=l[4],c=l[5];return this._propogateResolverMetadata(e.path,_,u,d,h,c),o},i._propogateResolverMetadata=function(e,i,r,t,s,a){if(null!=i){if(null!=i.missingRequiredFields&&this._addMissingRequiredFields(i.missingRequiredFields),null!=i.missingClientEdges){var l,o=(0,n.default)(i.missingClientEdges);try{for(o.s();!(l=o.n()).done;){var d=l.value;this._missingClientEdges.push(d)}}catch(e){o.e(e)}finally{o.f()}}if(null!=i.missingLiveResolverFields){this._isMissingData=this._isMissingData||i.missingLiveResolverFields.length>0;var u,_=(0,n.default)(i.missingLiveResolverFields);try{for(_.s();!(u=_.n()).done;){var h=u.value;this._missingLiveResolverFields.push(h)}}catch(e){_.e(e)}finally{_.f()}}var c,v=(0,n.default)(i.relayResolverErrors);try{for(v.s();!(c=v.n()).done;){var g=c.value;this._resolverErrors.push(g)}}catch(e){v.e(e)}finally{v.f()}this._isMissingData=this._isMissingData||i.isMissingData}if(r&&this._resolverErrors.push({field:{path:e,owner:this._fragmentName},error:r}),null!=t&&this._seenRecords.add(t),null!=s&&(this._isMissingData=!0,this._missingLiveResolverFields.push({path:"".concat(this._fragmentName,".").concat(e),liveStateID:s})),null!=a){var f,E=(0,n.default)(a);try{for(E.s();!(f=E.n()).done;){var m=f.value;this._updatedDataIDs.add(m)}}catch(e){E.e(e)}finally{E.f()}}},i._readClientEdge=function(e,i,r){var s,a=this,n=e.backingField;"ClientExtension"===n.kind&&x(!1);var l=null!==(s=n.alias)&&void 0!==s?s:n.name,o={};this._traverseSelections([n],i,o);var d=o[l];if(null==d||T(d))return r[l]=d,d;var u=function(e,i){return e.linkedField.plural?(Array.isArray(i)||x(!1),{kind:"PluralConcrete",ids:i.map((function(e){return X(e)}))}):{kind:"SingularConcrete",id:X(i)}}(e,d);switch(u.kind){case"PluralConcrete":var _=function(e,i,r){if(e.kind===h){if(null==e.backingField.normalizationInfo){var t=e.concreteType;return null==t&&x(!1),i.map((function(e){return r.ensureClientRecord(e,t)}))}return i}x(!1)}(e,u.ids,this._resolverCache),c=_;if(null!=e.modelResolver){var v=e.modelResolver;c=_.map((function(e){return null!=a._readResolverFieldImpl(v,e)?e:null}))}this._clientEdgeTraversalPath.push(null);var g=this._readLinkedIds(e.linkedField,c,i,r);return this._clientEdgeTraversalPath.pop(),r[l]=g,g;case"SingularConcrete":var f=function(e,i,r){if(e.kind===h){if(null==e.backingField.normalizationInfo){var t=e.concreteType;return null==t&&x(!1),[r.ensureClientRecord(i,t),null]}return[i,null]}return[i,{readerClientEdge:e,clientEdgeDestinationID:i}]}(e,u.id,this._resolverCache),E=f[0],m=f[1];if(null!=e.modelResolver&&null==this._readResolverFieldImpl(e.modelResolver,E))return r[l]=null,null;this._clientEdgeTraversalPath.push(m);var R=r[l];null!=R&&"object"!==t(R)&&x(!1);var p=this._traverse(e.linkedField,E,R);return this._clientEdgeTraversalPath.pop(),r[l]=p,p;default:u.kind}},i._readScalar=function(e,i,r){var t,s=null!==(t=e.alias)&&void 0!==t?t:e.name,a=U(e,this._variables),n=b.getValue(i,a);return null===n?this._maybeAddErrorResponseFields(i,a):void 0===n&&this._markDataAsMissing(),r[s]=n,n},i._readLink=function(e,i,r){var s,a=null!==(s=e.alias)&&void 0!==s?s:e.name,n=U(e,this._variables),l=b.getLinkedRecordID(i,n);if(null==l)return r[a]=l,null===l?this._maybeAddErrorResponseFields(i,n):void 0===l&&this._markDataAsMissing(),l;var o=r[a];null!=o&&"object"!==t(o)&&x(!1);var d=this._traverse(e,l,o);return r[a]=d,d},i._readActorChange=function(e,i,r){var t,s=null!==(t=e.alias)&&void 0!==t?t:e.name,a=U(e,this._variables),n=b.getActorLinkedRecordID(i,a);if(null==n)return r[s]=n,void 0===n?this._markDataAsMissing():null===n&&this._maybeAddErrorResponseFields(i,a),r[s];var l=n[0],o=n[1],d={};return this._createFragmentPointer(e.fragmentSpread,b.fromObject({__id:o}),d),r[s]={__fragmentRef:d,__viewer:l},r[s]},i._readPluralLink=function(e,i,r){var t=U(e,this._variables),s=b.getLinkedRecordIDs(i,t);return null===s&&this._maybeAddErrorResponseFields(i,t),this._readLinkedIds(e,s,i,r)},i._readLinkedIds=function(e,i,r,s){var a,n=this,l=null!==(a=e.alias)&&void 0!==a?a:e.name;if(null==i)return s[l]=i,void 0===i&&this._markDataAsMissing(),i;var o=s[l];null==o||Array.isArray(o)||x(!1);var d=o||[];return i.forEach((function(i,r){if(null==i)return void 0===i&&n._markDataAsMissing(),void(d[r]=i);var s=d[r];null!=s&&"object"!==t(s)&&x(!1),d[r]=n._traverse(e,i,s)})),s[l]=d,d},i._readModuleImport=function(e,i,r){var t=B(e.documentName),s=b.getValue(i,t);null!=s?(this._createFragmentPointer({kind:"FragmentSpread",name:e.fragmentName,args:e.args},i,r),r[O]=e.fragmentPropName,r[G]=s):void 0===s&&this._markDataAsMissing()},i._createAliasedFragmentSpread=function(e,i){var r=e.abstractKey;if(null==r){var t=b.getType(i);if(null==t||t!==e.type)return null}else{var s=this._implementsInterface(i,r);if(!1===s)return null;if(null==s)return void this._markDataAsMissing()}var a={};return this._createFragmentPointer(e.fragment,i,a),b.fromObject(a)},i._readInlineFragment=function(e,i,r){var t=e.abstractKey;if(null==t){var s=b.getType(i);if(null==s||s!==e.type)return null;if(!this._traverseSelections(e.selections,i,r))return!1}else{var a=this._implementsInterface(i,t),n=this._isMissingData,l=this._isWithinUnmatchedTypeRefinement;if(this._isWithinUnmatchedTypeRefinement=l||!1===a,this._traverseSelections(e.selections,i,r),this._isWithinUnmatchedTypeRefinement=l,!1===a)return void(this._isMissingData=n);if(null==a)return this._markDataAsMissing(),null}return r},i._createFragmentPointer=function(e,i,r){var s=r[P];null==s&&(s=r[P]={}),("object"!==t(s)||null==s)&&x(!1),null==r[w]&&(r[w]=b.getDataID(i)),s[e.name]=V(e.args,this._variables,this._isWithinUnmatchedTypeRefinement),r[k]=this._owner,N.ENABLE_CLIENT_EDGES&&this._clientEdgeTraversalPath.length>0&&null!==this._clientEdgeTraversalPath[this._clientEdgeTraversalPath.length-1]&&(r[M]=(0,l.default)(this._clientEdgeTraversalPath))},i._createInlineDataOrResolverFragmentPointer=function(e,i,r){var s=r[P];null==s&&(s=r[P]={}),("object"!==t(s)||null==s)&&x(!1),null==r[w]&&(r[w]=b.getDataID(i));var a={},n=this._fragmentName;this._fragmentName=e.name;var l=this._variables,o=e.args?V(e.args,this._variables):{};this._variables=S.getFragmentVariables(e,this._owner.variables,o),this._traverseSelections(e.selections,i,a),this._variables=l,this._fragmentName=n,s[e.name]=a},i._addMissingRequiredFields=function(e){null!=this._missingRequiredFields?"THROW"!==this._missingRequiredFields.action&&("THROW"!==e.action?this._missingRequiredFields={action:"LOG",fields:[].concat((0,l.default)(this._missingRequiredFields.fields),(0,l.default)(e.fields))}:this._missingRequiredFields=e):this._missingRequiredFields=e},i._implementsInterface=function(e,i){var r=b.getType(e),t=this._recordSource.get(H(r));return null!=t?b.getValue(t,i):null},e}();function Q(e,i,r){var t="function"==typeof e.resolverModule?e.resolverModule:e.resolverModule.default,s=null,a=null;try{var n=[];null!=e.fragment&&n.push(r);var l=e.args?V(e.args,i):void 0;n.push(l),s=t.apply(null,n)}catch(e){e===Y?s=void 0:a=e}return[s,a]}function X(e,i){return"string"==typeof e?e:"object"===t(e)&&null!=e&&"string"==typeof e.id?e.id:void x(!1)}e.exports={read:z}}}]);
//# sourceMappingURL=RelayReader.js.js.map?4d8b1