{"version":3,"file":"batch.js.js?7275b","mappings":"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","sources":["webpack://@aztlan/template-react/../../node_modules/react-relay-network-modern/lib/middlewares/batch.js"],"sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RRNLBatchMiddlewareError = void 0;\nexports[\"default\"] = batchMiddleware;\nvar _utils = require(\"../utils\");\nvar _RelayRequestBatch = _interopRequireDefault(require(\"../RelayRequestBatch\"));\nvar _RelayRequest = _interopRequireDefault(require(\"../RelayRequest\"));\nvar _RRNLError2 = _interopRequireDefault(require(\"../RRNLError\"));\nvar _excluded = [\"headersOrThunk\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n// Max out at roughly 100kb (express-graphql imposed max)\nvar DEFAULT_BATCH_SIZE = 102400;\nvar RRNLBatchMiddlewareError = /*#__PURE__*/function (_RRNLError) {\n  _inherits(RRNLBatchMiddlewareError, _RRNLError);\n  var _super = _createSuper(RRNLBatchMiddlewareError);\n  function RRNLBatchMiddlewareError(msg) {\n    var _this;\n    _classCallCheck(this, RRNLBatchMiddlewareError);\n    _this = _super.call(this, msg);\n    _this.name = 'RRNLBatchMiddlewareError';\n    return _this;\n  }\n  return _createClass(RRNLBatchMiddlewareError);\n}(_RRNLError2[\"default\"]);\nexports.RRNLBatchMiddlewareError = RRNLBatchMiddlewareError;\nfunction batchMiddleware(options) {\n  var opts = options || {};\n  var batchTimeout = opts.batchTimeout || 0; // 0 is the same as nextTick in nodeJS\n  var allowMutations = opts.allowMutations || false;\n  var batchUrl = opts.batchUrl || '/graphql/batch';\n  var maxBatchSize = opts.maxBatchSize || DEFAULT_BATCH_SIZE;\n  var singleton = {};\n  var fetchOpts = {};\n  if (opts.method) fetchOpts.method = opts.method;\n  if (opts.credentials) fetchOpts.credentials = opts.credentials;\n  if (opts.mode) fetchOpts.mode = opts.mode;\n  if (opts.cache) fetchOpts.cache = opts.cache;\n  if (opts.redirect) fetchOpts.redirect = opts.redirect;\n  if (opts.headers) fetchOpts.headersOrThunk = opts.headers;\n  return function (next) {\n    return function (req) {\n      // do not batch mutations unless allowMutations = true\n      if (req.isMutation() && !allowMutations) {\n        return next(req);\n      }\n      if (!(req instanceof _RelayRequest[\"default\"])) {\n        throw new RRNLBatchMiddlewareError('Relay batch middleware accepts only simple RelayRequest. Did you add batchMiddleware twice?');\n      }\n\n      // req with FormData can not be batched\n      if (req.isFormData()) {\n        return next(req);\n      }\n\n      // skip batching if request explicitly opts out\n      if (req.cacheConfig.skipBatch) {\n        return next(req);\n      }\n      return passThroughBatch(req, next, {\n        batchTimeout: batchTimeout,\n        batchUrl: batchUrl,\n        singleton: singleton,\n        maxBatchSize: maxBatchSize,\n        fetchOpts: fetchOpts\n      });\n    };\n  };\n}\nfunction passThroughBatch(req, next, opts) {\n  var singleton = opts.singleton;\n  var bodyLength = req.getBody().length;\n  if (!bodyLength) {\n    return next(req);\n  }\n  if (!singleton.batcher || !singleton.batcher.acceptRequests) {\n    singleton.batcher = prepareNewBatcher(next, opts);\n  }\n  if (singleton.batcher.bodySize + bodyLength + 1 > opts.maxBatchSize) {\n    singleton.batcher = prepareNewBatcher(next, opts);\n  }\n\n  // +1 accounts for tailing comma after joining\n  singleton.batcher.bodySize += bodyLength + 1;\n\n  // queue request\n  return new Promise(function (resolve, reject) {\n    var requestList = singleton.batcher.requestList;\n    var requestWrapper = {\n      req: req,\n      completeOk: function completeOk(res) {\n        requestWrapper.done = true;\n        resolve(res);\n        requestWrapper.duplicates.forEach(function (r) {\n          return r.completeOk(res);\n        });\n      },\n      completeErr: function completeErr(err) {\n        requestWrapper.done = true;\n        reject(err);\n        requestWrapper.duplicates.forEach(function (r) {\n          return r.completeErr(err);\n        });\n      },\n      done: false,\n      duplicates: []\n    };\n    var duplicateIndex = requestList.findIndex(function (wrapper) {\n      return req.getBody() === wrapper.req.getBody();\n    });\n    if (duplicateIndex !== -1) {\n      /*\n        I've run into a scenario with Relay Classic where if you have 2 components\n        that make the exact same query, Relay will dedup the queries and reuse\n        the request ids but still make 2 requests. The batch code then loses track\n        of all the duplicate requests being made and never resolves or rejects\n        the duplicate requests\n        https://github.com/nodkz/react-relay-network-layer/pull/52\n      */\n      requestList[duplicateIndex].duplicates.push(requestWrapper);\n    } else {\n      requestList.push(requestWrapper);\n    }\n  });\n}\nfunction prepareNewBatcher(next, opts) {\n  var batcher = {\n    bodySize: 2,\n    // account for '[]'\n    requestList: [],\n    acceptRequests: true\n  };\n  setTimeout(function () {\n    batcher.acceptRequests = false;\n    sendRequests(batcher.requestList, next, opts).then(function () {\n      return finalizeUncompleted(batcher.requestList);\n    })[\"catch\"](function (e) {\n      if (e && e.name === 'AbortError') {\n        finalizeCanceled(batcher.requestList, e);\n      } else {\n        finalizeUncompleted(batcher.requestList);\n      }\n    });\n  }, opts.batchTimeout);\n  return batcher;\n}\nfunction sendRequests(_x, _x2, _x3) {\n  return _sendRequests.apply(this, arguments);\n} // check that server returns responses for all requests\nfunction _sendRequests() {\n  _sendRequests = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(requestList, next, opts) {\n    var wrapper, _res, batchRequest, url, _opts$fetchOpts, headersOrThunk, fetchOpts, headers, batchResponse;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (!(requestList.length === 1)) {\n            _context.next = 10;\n            break;\n          }\n          // SEND AS SINGLE QUERY\n          wrapper = requestList[0];\n          _context.next = 4;\n          return next(wrapper.req);\n        case 4:\n          _res = _context.sent;\n          wrapper.completeOk(_res);\n          wrapper.duplicates.forEach(function (r) {\n            return r.completeOk(_res);\n          });\n          return _context.abrupt(\"return\", _res);\n        case 10:\n          if (!(requestList.length > 1)) {\n            _context.next = 36;\n            break;\n          }\n          // SEND AS BATCHED QUERY\n          batchRequest = new _RelayRequestBatch[\"default\"](requestList.map(function (wrapper) {\n            return wrapper.req;\n          })); // $FlowFixMe\n          _context.next = 14;\n          return (0, _utils.isFunction)(opts.batchUrl) ? opts.batchUrl(requestList) : opts.batchUrl;\n        case 14:\n          url = _context.sent;\n          batchRequest.setFetchOption('url', url);\n          _opts$fetchOpts = opts.fetchOpts, headersOrThunk = _opts$fetchOpts.headersOrThunk, fetchOpts = _objectWithoutProperties(_opts$fetchOpts, _excluded);\n          batchRequest.setFetchOptions(fetchOpts);\n          if (!headersOrThunk) {\n            _context.next = 23;\n            break;\n          }\n          _context.next = 21;\n          return (0, _utils.isFunction)(headersOrThunk) ? headersOrThunk(batchRequest) : headersOrThunk;\n        case 21:\n          headers = _context.sent;\n          batchRequest.setFetchOption('headers', headers);\n        case 23:\n          _context.prev = 23;\n          _context.next = 26;\n          return next(batchRequest);\n        case 26:\n          batchResponse = _context.sent;\n          if (!(!batchResponse || !Array.isArray(batchResponse.json))) {\n            _context.next = 29;\n            break;\n          }\n          throw new RRNLBatchMiddlewareError('Wrong response from server. Did your server support batch request?');\n        case 29:\n          batchResponse.json.forEach(function (payload, index) {\n            if (!payload) return;\n            var request = requestList[index];\n            if (request) {\n              var _res2 = createSingleResponse(batchResponse, payload);\n              request.completeOk(_res2);\n            }\n          });\n          return _context.abrupt(\"return\", batchResponse);\n        case 33:\n          _context.prev = 33;\n          _context.t0 = _context[\"catch\"](23);\n          requestList.forEach(function (request) {\n            return request.completeErr(_context.t0);\n          });\n        case 36:\n          return _context.abrupt(\"return\", Promise.resolve());\n        case 37:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[23, 33]]);\n  }));\n  return _sendRequests.apply(this, arguments);\n}\nfunction finalizeCanceled(requestList, error) {\n  requestList.forEach(function (request) {\n    return request.completeErr(error);\n  });\n}\n\n// check that server returns responses for all requests\nfunction finalizeUncompleted(requestList) {\n  requestList.forEach(function (request, index) {\n    if (!request.done) {\n      request.completeErr(new RRNLBatchMiddlewareError(\"Server does not return response for request at index \".concat(index, \".\\n\") + \"Response should have an array with \".concat(requestList.length, \" item(s).\")));\n    }\n  });\n}\nfunction createSingleResponse(batchResponse, json) {\n  // Fallback for graphql-graphene and apollo-server batch responses\n  var data = json.payload || json;\n  var res = batchResponse.clone();\n  res.processJsonData(data);\n  return res;\n}"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","RRNLBatchMiddlewareError","options","opts","batchTimeout","allowMutations","batchUrl","maxBatchSize","DEFAULT_BATCH_SIZE","singleton","fetchOpts","method","credentials","mode","cache","redirect","headers","headersOrThunk","next","req","isMutation","_RelayRequest","isFormData","cacheConfig","skipBatch","bodyLength","getBody","length","batcher","acceptRequests","prepareNewBatcher","bodySize","Promise","resolve","reject","requestList","requestWrapper","completeOk","res","done","duplicates","forEach","r","completeErr","err","duplicateIndex","findIndex","wrapper","push","passThroughBatch","_utils","require","_RelayRequestBatch","_interopRequireDefault","_RRNLError2","_excluded","__esModule","_regeneratorRuntime","Op","hasOwn","hasOwnProperty","key","desc","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","_invoke","AsyncIterator","PromiseImpl","invoke","record","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","Error","undefined","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","methodName","TypeError","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","i","doneResult","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","_objectWithoutProperties","source","excluded","target","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","asyncGeneratorStep","gen","_next","_throw","_setPrototypeOf","o","p","bind","_getPrototypeOf","_RRNLError","subClass","superClass","_inherits","Constructor","Derived","hasNativeReflectConstruct","_super","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_isNativeReflectConstruct","Super","NewTarget","arguments","apply","ReferenceError","_assertThisInitialized","_possibleConstructorReturn","msg","_this","instance","_classCallCheck","setTimeout","_x","_x2","_x3","_sendRequests","sendRequests","finalizeUncompleted","request","_callee","_res","batchRequest","url","_opts$fetchOpts","batchResponse","_context","map","isFunction","setFetchOption","setFetchOptions","Array","isArray","json","payload","index","_res2","createSingleResponse","t0","args","concat","data","clone","processJsonData"],"sourceRoot":""}