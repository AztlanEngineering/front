"use strict";(self.webpackChunk_aztlan_template_react=self.webpackChunk_aztlan_template_react||[]).push([[54],{3925:(e,t,a)=>{var r=a(1600).default,i=r(a(8636)),s=r(a(3408)),l=a(2333),n=(l.ACTOR_IDENTIFIER_FIELD_NAME,l.getActorIdentifierFromPayload),o=a(7783),c=o.ACTOR_CHANGE,h=o.CLIENT_COMPONENT,_=o.CLIENT_EDGE_TO_CLIENT_OBJECT,d=o.CLIENT_EXTENSION,u=o.CONDITION,p=o.DEFER,f=o.FRAGMENT_SPREAD,v=o.INLINE_FRAGMENT,g=o.LINKED_FIELD,y=o.LINKED_HANDLE,I=o.MODULE_IMPORT,b=o.RELAY_LIVE_RESOLVER,m=o.RELAY_RESOLVER,T=o.SCALAR_FIELD,D=o.SCALAR_HANDLE,E=o.STREAM,S=o.TYPE_DISCRIMINATOR,k=a(6190),A=k.generateClientID,R=(k.isClientID,a(378).getLocalVariables),C=a(7567),N=C.buildErrorTrie,P=C.getErrorsByKey,L=C.getNestedErrorTrieByKey,z=a(5180),V=a(4711).createNormalizationSelector,F=a(8475),M=(F.ROOT_ID,F.TYPENAME_KEY),O=F.getArgumentValues,K=F.getHandleStorageKey,w=F.getModuleComponentKey,x=F.getModuleOperationKey,Y=F.getStorageKey,j=a(8073),H=j.TYPE_SCHEMA_TYPE,B=j.generateTypeID,G=(a(3860),a(7677));a(6590);var U=function(){function e(e,t,a){this._actorIdentifier=a.actorIdentifier,this._getDataId=a.getDataID,this._handleFieldPayloads=[],this._treatMissingFieldsAsNull=a.treatMissingFieldsAsNull,this._incrementalPlaceholders=[],this._isClientExtension=!1,this._isUnmatchedAbstractType=!1,this._followupPayloads=[],this._path=a.path?(0,s.default)(a.path):[],this._recordSource=e,this._variables=t,this._shouldProcessClientComponents=a.shouldProcessClientComponents}var t=e.prototype;return t.normalizeResponse=function(e,t,a,r){var i=this._recordSource.get(t);return i||G(!1),this._assignClientAbstractTypes(e),this._errorTrie=N(r),this._traverseSelections(e,i,a),{errors:r,fieldPayloads:this._handleFieldPayloads,incrementalPlaceholders:this._incrementalPlaceholders,followupPayloads:this._followupPayloads,source:this._recordSource,isFinal:!1}},t._assignClientAbstractTypes=function(e){var t=e.clientAbstractTypes;if(null!=t)for(var a=0,r=Object.keys(t);a<r.length;a++){var s,l=r[a],n=(0,i.default)(t[l]);try{for(n.s();!(s=n.n()).done;){var o=s.value,c=B(o),h=this._recordSource.get(c);null==h&&(h=z.create(c,H),this._recordSource.set(c,h)),z.setValue(h,l,!0)}}catch(e){n.e(e)}finally{n.f()}}},t._getVariableValue=function(e){return this._variables.hasOwnProperty(e)||G(!1),this._variables[e]},t._getRecordType=function(e){var t=e[M];return null==t&&G(!1),t},t._traverseSelections=function(e,t,a){for(var r=0;r<e.selections.length;r++){var i=e.selections[r];switch(i.kind){case T:case g:this._normalizeField(i,t,a);break;case u:Boolean(this._getVariableValue(i.condition))===i.passingValue&&this._traverseSelections(i,t,a);break;case f:var s=this._variables;this._variables=R(this._variables,i.fragment.argumentDefinitions,i.args),this._traverseSelections(i.fragment,t,a),this._variables=s;break;case v:var l=i.abstractKey;if(null==l)z.getType(t)===i.type&&this._traverseSelections(i,t,a);else{var n=a.hasOwnProperty(l),o=z.getType(t),k=B(o),A=this._recordSource.get(k);null==A&&(A=z.create(k,H),this._recordSource.set(k,A)),z.setValue(A,l,n),n&&this._traverseSelections(i,t,a)}break;case S:var C=i.abstractKey,N=a.hasOwnProperty(C),P=z.getType(t),L=B(P),V=this._recordSource.get(L);null==V&&(V=z.create(L,H),this._recordSource.set(L,V)),z.setValue(V,C,N);break;case y:case D:var F=i.args?O(i.args,this._variables):{},M=Y(i,this._variables),w=K(i,this._variables);this._handleFieldPayloads.push({args:F,dataID:z.getDataID(t),fieldKey:M,handle:i.handle,handleKey:w,handleArgs:i.handleArgs?O(i.handleArgs,this._variables):{}});break;case I:this._normalizeModuleImport(i,t,a);break;case p:this._normalizeDefer(i,t,a);break;case E:this._normalizeStream(i,t,a);break;case d:var x=this._isClientExtension;this._isClientExtension=!0,this._traverseSelections(i,t,a),this._isClientExtension=x;break;case h:if(!1===this._shouldProcessClientComponents)break;this._traverseSelections(i.fragment,t,a);break;case c:this._normalizeActorChange(i,t,a);break;case m:case b:this._normalizeResolver(i,t,a);break;case _:this._normalizeResolver(i.backingField,t,a);break;default:G(!1)}}},t._normalizeResolver=function(e,t,a){null!=e.fragment&&this._traverseSelections(e.fragment,t,a)},t._normalizeDefer=function(e,t,a){!1===(null===e.if||this._getVariableValue(e.if))?this._traverseSelections(e,t,a):this._incrementalPlaceholders.push({kind:"defer",data:a,label:e.label,path:(0,s.default)(this._path),selector:V(e,z.getDataID(t),this._variables),typeName:z.getType(t),actorIdentifier:this._actorIdentifier})},t._normalizeStream=function(e,t,a){this._traverseSelections(e,t,a),!0===(null===e.if||this._getVariableValue(e.if))&&this._incrementalPlaceholders.push({kind:"stream",label:e.label,path:(0,s.default)(this._path),parentID:z.getDataID(t),node:e,variables:this._variables,actorIdentifier:this._actorIdentifier})},t._normalizeModuleImport=function(e,t,a){"object"==typeof a&&a||G(!1);var r=z.getType(t),i=w(e.documentName),l=e.componentModuleProvider||a[i];z.setValue(t,i,null!=l?l:null);var n=x(e.documentName),o=e.operationModuleProvider||a[n];z.setValue(t,n,null!=o?o:null),null!=o&&this._followupPayloads.push({kind:"ModuleImportPayload",args:e.args,data:a,dataID:z.getDataID(t),operationReference:o,path:(0,s.default)(this._path),typeName:r,variables:this._variables,actorIdentifier:this._actorIdentifier})},t._normalizeField=function(e,t,a){"object"==typeof a&&a||G(!1);var r=e.alias||e.name,i=Y(e,this._variables),s=a[r];if(null!=s)if(e.kind===T)z.setValue(t,i,s);else if(e.kind===g){this._path.push(r);var l=this._errorTrie;this._errorTrie=null==l?null:L(l,r),e.plural?this._normalizePluralLink(e,t,i,s):this._normalizeLink(e,t,i,s),this._errorTrie=l,this._path.pop()}else G(!1);else{if(void 0===s){if(this._isClientExtension||this._isUnmatchedAbstractType)return;if(!this._treatMissingFieldsAsNull)return}z.setValue(t,i,null);var n=this._errorTrie;if(null!=n){var o=P(n,r);null!=o&&z.setErrors(t,i,o)}}},t._normalizeActorChange=function(e,t,a){var r,i=e.linkedField;"object"==typeof a&&a||G(!1);var l=i.alias||i.name,o=Y(i,this._variables),c=a[l];if(null!=c){var h=n(c);if(null!=h){var _=null!==(r=i.concreteType)&&void 0!==r?r:this._getRecordType(c),d=this._getDataId(c,_)||z.getLinkedRecordID(t,o)||A(z.getDataID(t),o);"string"!=typeof d&&G(!1),z.setActorLinkedRecordID(t,o,h,d),this._followupPayloads.push({kind:"ActorPayload",data:c,dataID:d,path:[].concat((0,s.default)(this._path),[l]),typeName:_,variables:this._variables,node:i,actorIdentifier:h})}else z.setValue(t,o,null)}else{if(void 0===c){if(this._isClientExtension||this._isUnmatchedAbstractType)return;if(!this._treatMissingFieldsAsNull)return}z.setValue(t,o,null)}},t._normalizeLink=function(e,t,a,r){var i;"object"==typeof r&&r||G(!1);var s=this._getDataId(r,null!==(i=e.concreteType)&&void 0!==i?i:this._getRecordType(r))||z.getLinkedRecordID(t,a)||A(z.getDataID(t),a);"string"!=typeof s&&G(!1),z.setLinkedRecordID(t,a,s);var l=this._recordSource.get(s);if(l);else{var n=e.concreteType||this._getRecordType(r);l=z.create(s,n),this._recordSource.set(s,l)}this._traverseSelections(e,l,r)},t._normalizePluralLink=function(e,t,a,r){var i=this;Array.isArray(r)||G(!1);var s=z.getLinkedRecordIDs(t,a),l=[];r.forEach((function(r,n){var o;if(null!=r){i._path.push(String(n));var c=i._errorTrie;i._errorTrie=null==c?null:L(c,n),"object"!=typeof r&&G(!1);var h=i._getDataId(r,null!==(o=e.concreteType)&&void 0!==o?o:i._getRecordType(r))||s&&s[n]||A(z.getDataID(t),a,n);"string"!=typeof h&&G(!1),l.push(h);var _=i._recordSource.get(h);if(_);else{var d=e.concreteType||i._getRecordType(r);_=z.create(h,d),i._recordSource.set(h,_)}i._traverseSelections(e,_,r),i._errorTrie=c,i._path.pop()}else l.push(r)})),z.setLinkedRecordIDs(t,a,l)},t._validateRecordType=function(e,t,a){var r;null!==(r=t.concreteType)&&void 0!==r||this._getRecordType(a),z.getDataID(e)},t._validateConflictingFieldsWithIdenticalId=function(e,t,a){},t._validateConflictingLinkedFieldsWithIdenticalId=function(e,t,a){},e}();e.exports={normalize:function(e,t,a,r,i){var s=t.dataID,l=t.node,n=t.variables;return new U(e,n,r).normalizeResponse(l,s,a,i)}}}}]);
//# sourceMappingURL=RelayResponseNormalizer.js.js.map?a52f8